import{Q as fe,b as ge,c as C,d as S}from"./QTabPanels-CGJrTv5V.js";import{t as xe,v as ye,p as he,c as _e}from"./personalize-CGXMX3Vn.js";import{d as E,a0 as be,n as a,a1 as we,o as u,c,a as t,t as m,f as b,g as s,w as d,M as _,F as V,a2 as L,a3 as O,$ as W,k as Y,j as G,e as J,S as j,h as K,a4 as ke,l as ze,C as X,_ as U,u as Ce}from"./index-DdqqIGr3.js";import{Q as Se}from"./QTooltip-8pAEJPXe.js";import{u as Ve,_ as Z}from"./use-quasar-GC0jE7yI.js";import"./touch-Bp1tm7vm.js";import"./QCheckbox-BsfOf8YO.js";import"./QSeparator-8gkXPHKT.js";import"./services-ixKU3Ins.js";const Te={class:"column col",style:{padding:"0px 0px 0px 32px","border-right":"#e2e2e2 1px solid"}},Me={class:"column justify-center",style:{"padding-top":"32px","padding-right":"32px"}},$e={class:"row justify-between"},Pe={class:"row items-center",style:{"font-size":"18px",gap:"10px"}},Qe={class:"column"},je={class:"time"},Ee={class:"slots col"},Ue={class:"row border items-center",style:{height:"48px"}},Ae={key:0,class:"row col justify-between items-center",style:{height:"42px","background-color":"rgba(46, 46, 51, 0.15)",padding:"4px",gap:"8px","padding-left":"8px"}},He={class:"row items-center",style:{gap:"8px"}},Re={class:"column"},Ie={style:{"font-size":"10px"}},Ne={class:"row",style:{gap:"4px",color:"#71717a"}},De={style:{"font-size":"10px"}},qe=["onMouseenter","onMouseup"],Fe=["id"],Be=["onMousedown"],Le={class:"column"},Oe={style:{"font-size":"10px",color:"white"}},We={class:"row",style:{gap:"4px",color:"#b8b8b8"}},Ye={style:{"font-size":"10px"}},Ge={class:"row buttons_actions",style:{gap:"8px","padding-right":"6px"}},Je={key:1,class:"row items-center",style:{gap:"8px",position:"relative"}},Ke={class:"btn_region row"},Xe={class:"row add_button items-center",style:{gap:"8px"}},Ze=["onClick"],et={class:"column",style:{width:"480px",padding:"32px",gap:"20px"}},tt={class:"column"},ot={style:{"font-size":"10px",color:"white"}},st={class:"row",style:{gap:"4px",color:"#b8b8b8"}},lt={style:{"font-size":"10px"}},nt={class:"dialog column",style:{gap:"16px"}},it={class:"row justify-between items-center"},at={class:"column",style:{gap:"8px"}},dt={class:"dialog column",style:{gap:"15px"}},rt={class:"row",style:{gap:"10px",width:"100%"}},pt={class:"dialog column",style:{gap:"16px"}},ut={class:"row justify-between items-center"},ct={class:"column",style:{gap:"8px"}},vt=E({__name:"schedule",setup(A){const f=Ve(),y=be(),n=a([]),v=a(!1),ee=a(!1),r=a([]),T=a(6),w=a(9),H=a(4),te=a([]);a({x:0,y:0});const k=a(!1),R=a("0px"),oe=a("0px"),g=a(""),M=a({lat:0,lon:0,name:"",type:0}),I=a({lat:0,lon:0,name:"",type:0}),$=a(""),{x:bt,y:se}=we({touch:!1});function le(o){const e=parseInt(o.split(":")[0]),l=parseInt(o.split(":")[1]);return{hours:e,minutes:l}}const ne=le(y.quoteRide.time_1);w.value=ne.hours;function ie(o,e){var x;k.value=!0,I.value=e.location,$.value=e.time,document.body.style.userSelect="none",document.body.style.webkitUserSelect="none";const p=(x=document.getElementById("element_"+o).parentElement)==null?void 0:x.parentElement,i=(p==null?void 0:p.clientWidth)+"px",h=(p==null?void 0:p.clientHeight)+"px";R.value=i,oe.value=h}function N(o){k.value=!1,document.body.style.userSelect="auto",document.body.style.webkitUserSelect="auto"}function ae(o,e){$.value=o}function de(o,e){k.value}for(let o=0;o<T.value;o++){n.value=[];for(let e=0;e<H.value;e++)n.value.push({id:o+1,start_stop:!1,name:"",time:e>0?o+9+":"+e*15:o+9+":00",location:{lat:0,lon:0,name:"",type:0},icon:o==0&&e==0?"drv-marker-pin-03":""}),o==0&&e==0&&(n.value[0].start_stop=!0,n.value[0].name="Pick up",n.value[0].location=y.quoteRide.pickup_1,n.value[0].icon="drv-marker-pin-03"),o==T.value-1&&e==H.value-1&&(n.value[n.value.length-1].start_stop=!0,n.value[n.value.length-1].name="Drop off",n.value[n.value.length-1].location=y.quoteRide.dropoff_1,n.value[n.value.length-1].icon="drv-flag-05");r.value.push(n.value)}for(let o=0;o<T.value;o++)te.value.push(w.value+o<12?w.value+o+" AM":w.value+o+" PM");const re={right:"0px",borderRadius:"5px",backgroundColor:"#2E2E33",width:"2px",opacity:1},pe={backgroundColor:"#E2E2E2",opacity:.5,width:"1px",rigth:"4px"},D=["11:00","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM"],P=a(D);function q(o,e,l){e(()=>{const p=o.toLowerCase();P.value=D.filter(i=>i.toLowerCase().indexOf(p)>-1)})}a("");const Q=a(!1),z=a(!1);function ue(o){g.value=o,v.value=!0}function ce(){for(let o=0;o<r.value.length;o++)for(let e=0;e<r.value[o].length;e++)if(r.value[o][e].time==g.value){r.value[o][e].location=M.value;break}v.value=!1,f.notify({message:"A new stop has been added to your itinerary",classes:"bg-green-01",position:"top",actions:[{icon:"fa drv-x-close",color:"white",handler:()=>{}}]})}function F(o){M.value=o}function ve(){for(let o=0;o<r.value.length;o++)for(let e=0;e<r.value[o].length;e++)if(r.value[o][e].time==g.value){r.value[o][e].location={lat:0,lon:0,name:"",type:0};break}f.notify({message:"The stop has been deleted from your itinerary",classes:"bg-green-01",position:"top",actions:[{icon:"fa drv-x-close",color:"white",handler:()=>{}}]})}function B(o){g.value=o}function me(){for(let o=0;o<r.value.length;o++)for(let e=0;e<r.value[o].length;e++)if(r.value[o][e].time==g.value){r.value[o][e].location=M.value;break}z.value=!1,f.notify({message:"The stop has been edited from your itinerary",classes:"bg-green-01",position:"top",actions:[{icon:"fa drv-x-close",color:"white",handler:()=>{}}]})}return(o,e)=>(u(),c(V,null,[t("div",{class:"row",style:{position:"relative"},onMouseup:e[1]||(e[1]=l=>N())},[t("div",Te,[t("div",Me,[t("div",$e,[t("div",Pe,[e[12]||(e[12]=t("div",null,"Plan itinerary",-1)),e[13]||(e[13]=t("i",{class:"drv-arrow-narrow-right",style:{"font-size":"20px"}},null,-1)),t("div",null,"From "+m(b(y).quoteRide.time_1)+"H to "+m(b(y).quoteRide.time_2)+"H",1)]),s(_,{unelevated:"",dense:"",color:"secondary","no-caps":"","text-color":"black",style:{"padding-left":"8px","padding-right":"8px","font-weight":"400","font-size":"12px","line-height":"13.2px","border-radius":"4px","padding-top":"0px !important","padding-bottom":"0px !important",height:"24px"},onClick:e[0]||(e[0]=l=>v.value=!0)},{default:d(()=>e[14]||(e[14]=[t("i",{class:"drv-plus",style:{"font-size":"12px"}},null,-1),t("div",{style:{"font-size":"10px"}},"Add stop",-1)])),_:1})]),e[15]||(e[15]=t("div",{style:{"font-size":"15px"}}," Scheduling all stops will provide a more accurate pricing. You can adjust it later if needed. ",-1))]),s(Se,{"thumb-style":re,"bar-style":pe,visible:"",class:"column",style:{height:"calc(100vh - 250px)",width:"100%","padding-right":"32px","padding-top":"32px","padding-bottom":"32px",position:"relative"}},{default:d(()=>[t("div",Qe,[(u(!0),c(V,null,L(r.value,(l,p)=>(u(),c("div",{key:p,class:"col row hour_container"},[t("div",je,[t("div",null,m(w.value+p),1)]),t("div",Ee,[(u(!0),c(V,null,L(l,(i,h)=>(u(),c("div",{key:h,class:"slot"},[t("div",Ue,[i.start_stop?(u(),c("div",Ae,[t("div",He,[e[16]||(e[16]=t("i",{class:"drv-marker-pin-03",style:{"font-size":"12px",color:"transparent"}},null,-1)),t("div",Re,[t("div",Ie,m(i.name)+" at "+m(i.time)+"H",1),t("div",Ne,[t("i",{class:ke(i.icon),style:{"font-size":"12px"}},null,2),t("div",De,m(i.location.name),1)])])]),e[17]||(e[17]=t("div",{class:"icon-lock"},[t("i",{class:"drv-lock-01",style:{"font-size":"12px"}})],-1))])):(u(),c("div",{key:1,class:"row col justify-between items-center actions",style:O([{height:"42px",padding:"4px",gap:"8px","padding-left":"8px"},i.location.name!=""?"background-color: #2E2E33":"background-color: white;"]),onMouseenter:x=>ae(i.time,h),onMouseup:x=>de(i,h)},[i.location.name!=""?(u(),c(V,{key:0},[t("div",{id:"element_"+h,class:"row items-center",style:{gap:"8px"}},[t("i",{class:"drv-dots-grid",style:{"font-size":"12px",color:"white",cursor:"grab"},onMousedown:x=>ie(h,i)},null,40,Be),t("div",Le,[t("div",Oe," Pick Up at "+m(i.time),1),t("div",We,[e[18]||(e[18]=t("i",{class:"drv-flag-05",style:{"font-size":"12px"}},null,-1)),t("div",Ye,m(i.location.name),1)])])],8,Fe),t("div",Ge,[s(_,{unelevated:"",dense:"",color:"secondary","no-caps":"","text-color":"black",style:{"font-weight":"400","font-size":"12px","line-height":"13.2px","border-radius":"4px","padding-top":"0px !important","padding-bottom":"0px !important",height:"24px",width:"24px"},onClick:x=>(z.value=!0,B(i.time))},{default:d(()=>e[19]||(e[19]=[t("i",{class:"drv-edit-02",style:{"font-size":"16px"}},null,-1)])),_:2},1032,["onClick"]),s(_,{unelevated:"",dense:"",color:"secondary","no-caps":"","text-color":"black",style:{"font-weight":"400","font-size":"12px","line-height":"13.2px","border-radius":"4px","padding-top":"0px !important","padding-bottom":"0px !important",height:"24px",width:"24px"},onClick:x=>(Q.value=!0,B(i.time))},{default:d(()=>e[20]||(e[20]=[t("i",{class:"drv-trash-04",style:{"font-size":"16px"}},null,-1)])),_:2},1032,["onClick"])])],64)):!k.value&&i.location.name==""?(u(),c("div",Je,[t("div",Ke,[t("div",Xe,[t("div",{class:"add row items-center justify-center",onClick:x=>ue(i.time)},e[21]||(e[21]=[t("i",{class:"drv-plus cursor-pointer",style:{"font-size":"12px"}},null,-1)]),8,Ze),e[22]||(e[22]=t("div",{style:{"font-size":"10px"}},"Add stop",-1))])])])):ze("",!0)],44,qe))])]))),128))])]))),128))])]),_:1})]),t("div",et,[s(xe)])],32),t("div",{ref_key:"drag",ref:ee,class:"row items-center bg-primary",style:O([{"pointer-events":"none",cursor:"grabbing",position:"absolute",gap:"8px",padding:"4px","padding-left":"8px"},{display:k.value?"flex":"none",top:b(se)-210+"px",left:"80px",width:R.value,height:"42px"}]),onMouseup:e[2]||(e[2]=l=>N())},[e[24]||(e[24]=t("i",{class:"drv-dots-grid",style:{"font-size":"12px",color:"white"}},null,-1)),t("div",tt,[t("div",ot,"Pick Up at "+m($.value),1),t("div",st,[e[23]||(e[23]=t("i",{class:"drv-flag-05",style:{"font-size":"12px"}},null,-1)),t("div",lt,m(I.value.name),1)])])],36),s(j,{modelValue:v.value,"onUpdate:modelValue":e[6]||(e[6]=l=>v.value=l),persistent:""},{default:d(()=>[t("div",nt,[t("div",it,[e[25]||(e[25]=t("div",{style:{"font-size":"20px"}},"Add new stop",-1)),t("i",{class:"drv-x-close",style:{"font-size":"20px"},onClick:e[3]||(e[3]=l=>v.value=!1)})]),t("div",at,[s(W,{modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=l=>g.value=l),filled:"",dense:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:P.value,label:"Pickup time",class:"autofill","popup-content-style":"'height: 200px; min-height: 100px;'",onFilter:q},{"no-option":d(()=>[s(Y,null,{default:d(()=>[s(G,{class:"text-grey"},{default:d(()=>e[26]||(e[26]=[J(" No results ")])),_:1})]),_:1})]),_:1},8,["modelValue","options"]),s(Z,{label:"Type address",onChange:e[5]||(e[5]=l=>F(l))})]),s(_,{unelevated:"",color:"primary",label:"Add stop","no-caps":"",style:{width:"100%"},onClick:ce})])]),_:1},8,["modelValue"]),s(j,{modelValue:Q.value,"onUpdate:modelValue":e[7]||(e[7]=l=>Q.value=l),persistent:""},{default:d(()=>[t("div",dt,[e[27]||(e[27]=t("div",{class:"column items-center justify-center",style:{height:"103px"}},[t("div",{style:{"font-size":"25px"}},"Do you want to delete this stop?"),t("div",{style:{"font-size":"15px",color:"#58585c"}},"This action can’t be undone")],-1)),t("div",rt,[K(s(_,{unelevated:"",style:{width:"calc(50% - 5px)"},"no-caps":"",label:"Cancel",class:"button-secondary"},null,512),[[X]]),K(s(_,{unelevated:"",style:{width:"calc(50% - 5px)"},"no-caps":"",label:"Confirm",color:"primary",onClick:ve},null,512),[[X]])])])]),_:1},8,["modelValue"]),s(j,{modelValue:z.value,"onUpdate:modelValue":e[11]||(e[11]=l=>z.value=l),persistent:""},{default:d(()=>[t("div",pt,[t("div",ut,[e[28]||(e[28]=t("div",{style:{"font-size":"20px"}},"Edit stop",-1)),t("i",{class:"drv-x-close",style:{"font-size":"20px"},onClick:e[8]||(e[8]=l=>z.value=!1)})]),t("div",ct,[s(W,{modelValue:g.value,"onUpdate:modelValue":e[9]||(e[9]=l=>g.value=l),filled:"",dense:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:P.value,label:"Pickup time",class:"autofill","popup-content-style":"'height: 200px; min-height: 100px;'",onFilter:q},{"no-option":d(()=>[s(Y,null,{default:d(()=>[s(G,{class:"text-grey"},{default:d(()=>e[29]||(e[29]=[J(" No results ")])),_:1})]),_:1})]),_:1},8,["modelValue","options"]),s(Z,{label:"Type address",onChange:e[10]||(e[10]=l=>F(l))})]),s(_,{unelevated:"",color:"primary",label:"Save","no-caps":"",style:{width:"100%"},onClick:me})])]),_:1},8,["modelValue"])],64))}}),mt=U(vt,[["__scopeId","data-v-8bbd24bd"]]),ft={class:"column",style:{"padding-top":"24px"}},gt={class:"borderbottom",style:{"padding-left":"24px","padding-right":"24px"}},xt=E({__name:"rideTabsHourly",setup(A){const f=Ce();return(y,n)=>(u(),c("div",ft,[t("div",gt,[s(fe,{modelValue:b(f).currentTab,"onUpdate:modelValue":n[0]||(n[0]=v=>b(f).currentTab=v),dense:"","no-caps":"",align:"left","narrow-indicator":"","indicator-color":"accent",style:{"z-index":"99"}},{default:d(()=>[s(C,{name:"step1",label:"1. Select vehicle"}),s(C,{name:"step2",label:"2. Plan itinerary"}),s(C,{name:"step3",label:"3. Customise"}),s(C,{name:"step4",label:"4. Checkout"})]),_:1},8,["modelValue"])]),n[2]||(n[2]=t("div",{class:"top_bar"},null,-1)),s(ge,{modelValue:b(f).currentTab,"onUpdate:modelValue":n[1]||(n[1]=v=>b(f).currentTab=v),animated:"","transition-prev":"fade","transition-next":"fade"},{default:d(()=>[s(S,{name:"step1",style:{margin:"0px",padding:"0px"}},{default:d(()=>[s(ye)]),_:1}),s(S,{name:"step2",style:{margin:"0px",padding:"0px"}},{default:d(()=>[s(mt)]),_:1}),s(S,{name:"step3",style:{margin:"0px",padding:"0px"}},{default:d(()=>[s(he)]),_:1}),s(S,{name:"step4",style:{margin:"0px",padding:"0px"}},{default:d(()=>[s(_e)]),_:1})]),_:1},8,["modelValue"])]))}}),yt=U(xt,[["__scopeId","data-v-a826c5dc"]]),ht={class:"newRide column"},_t=E({__name:"NewRideQuoteHourly",setup(A){return(f,y)=>(u(),c("div",ht,[s(yt)]))}}),Pt=U(_t,[["__scopeId","data-v-b76ca3b3"]]);export{Pt as default};
