import{d as O,n as c,u as X,X as G,o as i,c as v,a as e,t as _,h as P,i as U,M as V,l as M,g as a,w as d,W as j,S as R,V as A,aS as K,f as o,C as T,_ as J,am as se,F as $,a2 as ae,k as ne,j as ie,e as g,ay as de,b as re,ap as ue,aq as Z,$ as ee,T as ce}from"./index-DdqqIGr3.js";import{u as pe}from"./services-ixKU3Ins.js";import{Q as ve}from"./QInfiniteScroll-CX12bkir.js";import{Q as me,a as z}from"./QTooltip-8pAEJPXe.js";import"./touch-Bp1tm7vm.js";const ye={class:"column top-module border2",style:{height:"178px",gap:"20px",width:"100%"}},ge={class:"title"},_e={class:"row",style:{gap:"20px"}},xe={class:"column",style:{gap:"8px",width:"457px"}},fe={class:"col justify-end row"},he={key:0,class:"row",style:{gap:"10px",height:"40px"}},be={style:{"padding-left":"7px"}},$e={style:{"padding-left":"7px"}},we={class:"modal_dialog column"},Ce={class:"column"},ke={class:"title row justify-between"},Le={class:"text_boxes"},Se={class:"row",style:{gap:"10px",width:"100%"}},Ve=O({__name:"top",props:{editMode:Boolean,loading:Boolean,user:String,type:String},emits:{changeEditMode:null,changeCustomer:null},setup(F,{emit:m}){const h=c("");pe();const r=X(),s=G(),f=F,C=m,n=c(!1);function w(){s.deleteClient(s.selectedClientId||0).then(()=>{r.setLoading(!1),n.value=!1,r.scroll.resume(),s.clients=[],r.scroll.reset(),s.currentPage=1,r.scroll.trigger()})}function k(y){if(y.length>2){r.scroll.resume(),s.clients=[],r.scroll.reset(),s.searchKeyword=y,s.currentPage=1,r.scroll.trigger();return}else if(y.length==0){s.clients=[],r.scroll.reset(),s.searchKeyword="",s.currentPage=1,r.scroll.resume(),r.scroll.trigger();return}}return(y,p)=>(i(),v("div",ye,[e("div",ge,_(y.$t("texts.my_clients")),1),e("div",_e,[e("div",xe,[f.type=="edit"?P((i(),U(V,{key:0,unelevated:"",square:"",padding:"sm",class:"bg-primary","text-color":"white","no-caps":"",disabled:f.loading,label:y.$t("texts.new_client"),style:{width:"100%"},onClick:p[0]||(p[0]=b=>C("changeEditMode","create",!0))},null,8,["disabled","label"])),[[T]]):M("",!0),a(j,{modelValue:h.value,"onUpdate:modelValue":[p[1]||(p[1]=b=>h.value=b),k],square:"",dense:"",outlined:"",disable:f.loading,label:y.$t("texts.search"),style:{width:"100%"},debounce:"500"},{prepend:d(()=>[a(A,{name:"fa drv-search-md"})]),_:1},8,["modelValue","disable","label"])]),e("div",fe,[f.editMode==!1?(i(),v("div",he,[f.editMode==!1?P((i(),U(V,{key:0,unelevated:"",square:"",padding:"sm",class:"bg-accent buttons","text-color":"white","no-caps":"",disabled:f.loading,onClick:p[2]||(p[2]=b=>C("changeEditMode","edit",!0))},{default:d(()=>[p[7]||(p[7]=e("i",{class:"drv-edit-02",style:{"font-size":"16px"}},null,-1)),e("div",be,_(y.$t("texts.edit")),1)]),_:1},8,["disabled"])),[[T]]):M("",!0),P((i(),U(V,{unelevated:"",square:"",padding:"sm",class:"button-secondary buttons","text-color":"primary","no-caps":"",disabled:f.loading,onClick:p[3]||(p[3]=b=>n.value=!0)},{default:d(()=>[p[8]||(p[8]=e("i",{class:"drv-trash-04",style:{"font-size":"16px"}},null,-1)),e("div",$e,_(y.$t("texts.delete")),1)]),_:1},8,["disabled"])),[[T]])])):M("",!0)])]),a(R,{modelValue:n.value,"onUpdate:modelValue":p[6]||(p[6]=b=>n.value=b),persistent:""},{default:d(()=>[e("div",we,[e("div",Ce,[e("div",ke,[e("div",null,_(y.$t("texts.delete_client")),1),e("i",{class:"drv-x-close cursor-pointer",style:{"font-size":"20px"},onClick:p[4]||(p[4]=b=>n.value=!1)})]),e("div",Le,_(y.$t("texts.are_you_sure_delete_client"))+" "+_(f.user)+"? ",1)]),e("div",Se,[P(a(V,{unelevated:"",style:{width:"calc(50% - 5px)"},"no-caps":"",label:"No",class:"button-secondary"},null,512),[[T]]),P((i(),U(V,{unelevated:"",style:{width:"calc(50% - 5px)"},"no-caps":"",label:y.$t("buttons.yes_delete"),color:"accent",loading:o(r).isLoading,disable:o(r).isLoading,onClick:p[5]||(p[5]=b=>w())},{loading:d(()=>[a(K)]),_:1},8,["label","loading","disable"])),[[T]])])])]),_:1},8,["modelValue"])]))}}),Ne=J(Ve,[["__scopeId","data-v-ebb7f268"]]),Me={class:"label",style:{"text-transform":"uppercase"}},Ee={class:"row justify-center q-my-md"},Pe={key:0},Ue=O({__name:"bottomLeft",emits:{changeCustomer:null},setup(F,{emit:m}){const h=G(),r=X(),s=m,f=c(),C=c(null);se(()=>{r.setScroll(C.value)});const n={right:"4px",borderRadius:"5px",backgroundColor:"#2E2E33",width:"4px",opacity:"1"};function w(y,p){f.value=y,r.selectedScroll=p,h.selectedClientId=y.id}async function k(y,p){r.isLoading=!0,h.currentPage=y,setTimeout(async()=>{const b=await h.getClients();r.isLoading=!1,console.log("index",y,"clientsStore.currentPage",h.currentPage),y===2&&(console.log("entra"),s("changeCustomer",h.clients[0]),r.selectedScroll=0),b&&r.scroll&&r.scroll.stop(),p()},200)}return(y,p)=>(i(),v("div",null,[e("div",Me,_(y.$t("texts.clients")),1),a(me,{"thumb-style":n,visible:"",style:{height:"calc(100vh - 320px)"}},{default:d(()=>[a(ve,{ref_key:"infiniteScrollClients",ref:C,class:"q-pb-md",poll:"",offset:100,disable:o(r).uiScroll,"initial-index":o(h).currentPage,onLoad:k},{loading:d(()=>[e("div",Ee,[a(K,{size:"3em",style:{color:"#e6e2dc"}})])]),default:d(()=>[(i(!0),v($,null,ae(o(h).clients,(b,L)=>(i(),v("div",{key:L,class:"caption"},[P((i(),U(ne,{clickable:"",dense:"",item:L,active:o(r).selectedScroll===L,"active-class":"item-active",onClick:E=>(w(b,L),y.$emit("changeCustomer",b))},{default:d(()=>[a(ie,null,{default:d(()=>[g(_(b.name),1)]),_:2},1024)]),_:2},1032,["item","active","onClick"])),[[de]])]))),128)),o(h).clients.length===0&&!o(r).isLoading?(i(),v("div",Pe,"No result")):M("",!0)]),_:1},8,["disable","initial-index"])]),_:1})]))}}),qe=J(Ue,[["__scopeId","data-v-f089e9dc"]]),Be={class:"column",style:{position:"relative",width:"calc(100vw - 544px)",gap:"16px"}},Ie={class:"column",style:{gap:"4px",width:"100%"}},Qe={key:0,class:"text_description"},je={class:"row",style:{width:"100%"}},Ae={class:"column col-6",style:{gap:"16px"}},Te={class:"column",style:{gap:"4px"}},De={class:"text_description"},Ze={class:"column",style:{gap:"4px"}},ze={class:"text_description"},Fe={class:"column",style:{gap:"4px"}},He={class:"text_description"},Re={class:"column",style:{gap:"4px"}},Ke={class:"text_description"},Oe={class:"column col-6",style:{gap:"16px"}},We={class:"column",style:{gap:"4px"}},Xe={class:"text_description"},Ge={class:"column",style:{gap:"4px"}},Je={class:"text_description"},Ye={class:"column",style:{gap:"4px"}},et={class:"text_description"},tt={class:"column",style:{gap:"4px"}},st={class:"text_description"},ot={class:"modal_dialog column"},lt={class:"column",style:{gap:"10px"}},at={class:"row align-center items-center",style:{gap:"10px",position:"relative"}},nt={class:"row justify-end",style:{gap:"10px",width:"100%"}},it=O({__name:"bottomRight",props:{id:[String,Number],name:String,phone:String,taxNumber:String,loading:Boolean,address:String,city:String,email_:String,postcode:String,code_phone:String,country:String,country_province:String,username:String},setup(F){const m=F,h=c(!1);return(r,s)=>(i(),v($,null,[e("div",Be,[e("div",Ie,[s[2]||(s[2]=e("div",{class:"text_boxes"},"Full Name",-1)),m.name!=""?(i(),v("div",Qe,_(m.name),1)):(i(),v($,{key:1},[g("  ")],64))]),e("div",je,[e("div",Ae,[e("div",Te,[s[3]||(s[3]=e("div",{class:"text_boxes"},"Phone",-1)),e("div",De,[m.code_phone!=""?(i(),v($,{key:0},[g(" ("+_(m.code_phone)+") "+_(m.phone),1)],64)):(i(),v($,{key:1},[g("  ")],64))])]),e("div",Ze,[s[4]||(s[4]=e("div",{class:"text_boxes"},"Tax ID",-1)),e("div",ze,[m.taxNumber!=""?(i(),v($,{key:0},[g(_(m.taxNumber),1)],64)):(i(),v($,{key:1},[g("  ")],64))])]),e("div",Fe,[s[5]||(s[5]=e("div",{class:"text_boxes"},"Address",-1)),e("div",He,[m.address!=""?(i(),v($,{key:0},[g(_(m.address),1)],64)):(i(),v($,{key:1},[g("  ")],64))])]),e("div",Re,[s[6]||(s[6]=e("div",{class:"text_boxes"},"Country/Province",-1)),e("div",Ke,[m.country_province!=""?(i(),v($,{key:0},[g(_(m.country_province),1)],64)):(i(),v($,{key:1},[g("  ")],64))])])]),e("div",Oe,[e("div",We,[s[7]||(s[7]=e("div",{class:"text_boxes"},"Email",-1)),e("div",Xe,[m.email_!=""?(i(),v($,{key:0},[g(_(m.email_),1)],64)):(i(),v($,{key:1},[g("  ")],64))])]),e("div",Ge,[s[8]||(s[8]=e("div",{class:"text_boxes"},"City",-1)),e("div",Je,[m.city!=""?(i(),v($,{key:0},[g(_(m.city),1)],64)):(i(),v($,{key:1},[g("  ")],64))])]),e("div",Ye,[s[9]||(s[9]=e("div",{class:"text_boxes"},"Postcode",-1)),e("div",et,[m.postcode!=""?(i(),v($,{key:0},[g(_(m.postcode),1)],64)):(i(),v($,{key:1},[g("  ")],64))])]),e("div",tt,[s[10]||(s[10]=e("div",{class:"text_boxes"},"Country",-1)),e("div",st,[m.country!=""?(i(),v($,{key:0},[g(_(m.country),1)],64)):(i(),v($,{key:1},[g("  ")],64))])])])])]),a(R,{modelValue:h.value,"onUpdate:modelValue":s[1]||(s[1]=f=>h.value=f),persistent:""},{default:d(()=>[e("div",ot,[e("div",lt,[e("div",at,[s[12]||(s[12]=e("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 14.6667L16 18.6667L29.3333 5.33333M21.3333 4H10.4C8.15979 4 7.03969 4 6.18404 4.43597C5.43139 4.81947 4.81947 5.43139 4.43597 6.18404C4 7.03969 4 8.15979 4 10.4V21.6C4 23.8402 4 24.9603 4.43597 25.816C4.81947 26.5686 5.43139 27.1805 6.18404 27.564C7.03969 28 8.15979 28 10.4 28H21.6C23.8402 28 24.9603 28 25.816 27.564C26.5686 27.1805 27.1805 26.5686 27.564 25.816C28 24.9603 28 23.8402 28 21.6V16",stroke:"#7CD57B","stroke-width":"2.13333","stroke-linecap":"square","stroke-linejoin":"bevel"})],-1)),s[13]||(s[13]=e("div",{class:"title"},"Email sent",-1)),(i(),v("svg",{class:"cursor-pointer",style:{position:"absolute",right:"0px",top:"0px"},width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:s[0]||(s[0]=f=>h.value=!1)},s[11]||(s[11]=[e("path",{d:"M12.2858 11.3205L11.1073 12.499L6.39322 7.78496L1.67918 12.499L0.500666 11.3205L5.21471 6.60645L0.500666 1.8924L1.67918 0.713889L12.2858 11.3205ZM12.2858 1.8924L8.75024 5.42793L7.57173 4.24942L11.1073 0.713889L12.2858 1.8924Z",fill:"#2E2E33"},null,-1)])))]),s[14]||(s[14]=e("div",{class:"text_boxes"}," An email has been sent to the recipient with instructions to reset the password. ",-1))]),e("div",nt,[P(a(V,{style:{width:"100%"},"no-caps":"",label:"Thank you",color:"accent"},null,512),[[T]])])])]),_:1},8,["modelValue"])],64))}}),dt={class:"column",style:{gap:"30px",width:"calc(100vw - 544px)"}},rt={key:0,class:"title_form"},ut={class:"column",style:{gap:"18px"}},ct={class:"row",style:{gap:"20px",width:"100%"}},pt={class:"column",style:{width:"100%"}},vt={class:"row",style:{gap:"10px"}},mt={class:"row",style:{gap:"10px",width:"calc(50% - 5px)"}},yt={class:"column"},gt={class:"column",style:{width:"calc(100% - 110px)"}},_t={class:"column",style:{width:"calc(50% - 5px)"}},xt={class:"row",style:{gap:"10px"}},ft={class:"column",style:{width:"calc(50% - 5px)"}},ht={class:"column",style:{width:"calc(50% - 5px)"}},bt={class:"row",style:{gap:"10px"}},$t={class:"column",style:{width:"calc(50% - 5px)"}},wt={class:"column",style:{width:"calc(50% - 5px)"}},Ct={class:"row",style:{gap:"10px"}},kt={class:"column",style:{width:"calc(50% - 5px)"}},Lt={class:"column",style:{width:"calc(50% - 5px)"}},St={class:"row justify-end",style:{gap:"15px"}},Vt={class:"modal_dialog column"},Nt={class:"row justify-end",style:{gap:"10px",width:"100%"}},Mt={class:"modal_dialog column"},Et={class:"column",style:{gap:"10px"}},Pt={class:"row",style:{position:"relative"}},Ut={class:"row justify-end",style:{gap:"10px",width:"100%"}},qt={class:"modal_dialog column"},Bt={class:"column",style:{gap:"10px"}},It={class:"row align-center items-center",style:{gap:"10px",position:"relative"}},Qt={class:"row justify-end",style:{gap:"10px",width:"100%"}},jt=O({__name:"UserInfo",props:{type:String,name:String,phone:String,code_phone:String,email_:String,taxNumber:String,city:String,address:String,postcode:String,country_province:String,country:Number,id:Number},emits:{changeEditMode:null,loadClient:null},setup(F,{emit:m}){const h=re(),r=G(),s=X(),f=ue();s.valid_phone=!0,s.valid_mobile=!0;const C=m,n=F,w=c(n.type==="edit"?n.name:""),k=c(n.type==="edit"?n.phone:""),y=c(n.type==="edit"?n.email_:""),p=c(n.type==="edit"?n.code_phone:""),b=c(n.type==="edit"?n.taxNumber:""),L=c(n.type==="edit"?n.city:""),E=c(n.type==="edit"?n.address:""),q=c(n.type==="edit"?n.postcode:""),B=c(n.type==="edit"?n.country_province:""),S=c(n.type==="edit"?n.country:""),I=c(!1),Q=c(!1),D=c(!1),W=c("+0"),l=f.validateInputs({name:w,phone:k,email:y,taxNumber:b,city:L,address:E,postal_code:q,county:B,country_code:S});async function x(){s.setLoading(!0),await r.createClient({name:w.value||"",taxNumber:b.value||"",country_code:S.value||0,county:B.value||"",city:L.value||"",postal_code:q.value||"",address:E.value||"",phone:(p.value.phoneCode+k.value).replace("+","")||"",email:y.value||""})&&(s.setLoading(!1),I.value=!0),s.setLoading(!1),C("loadClient",r.clients[2])}async function H(){var u;s.setLoading(!0);const N=n.code_phone?n.code_phone:p.value.phoneCode;await r.updateClient(((u=n.id)==null?void 0:u.toString())||"0",{name:w.value||"",taxNumber:b.value||"",email:y.value||"",phone:(N+k.value).replace("+","")||"",country_id:S.value||0,county:B.value||"",city:L.value||"",postal_code:q.value||"",address:E.value||""})&&(s.setLoading(!1),Q.value=!0),s.setLoading(!1)}function Y(){s.scroll&&(s.scroll.resume(),s.scroll.reset(),s.scroll.trigger()),r.currentPage=1,C("changeEditMode","edit",!1)}function oe(){W.value=""}async function le(){const N=k.value,t=n.code_phone||p.value.phoneCode;if(N.length>4&&t){const u=t.replace("+","");N.match(/^\d+$/)&&await s.validatePhone(N,h.token,u,"phone")}}return(N,t)=>(i(),v($,null,[e("div",dt,[n.type=="edit"?(i(),v("div",rt,_(N.$t("texts.edit_information")),1)):M("",!0),e("div",ut,[e("div",ct,[e("div",pt,[t[18]||(t[18]=e("div",{class:"label",style:{gap:"4px"}},"Full name*",-1)),a(j,{modelValue:o(l).name.$model,"onUpdate:modelValue":t[0]||(t[0]=u=>o(l).name.$model=u),rounded:"",dense:"",outlined:"",error:o(l).name.$error&&o(l).name.$model!=""},Z({_:2},[o(l).name.$error?{name:"append",fn:d(()=>[a(A,{name:"fa drv-alert-triangle text-negative"},{default:d(()=>[a(z,{class:"bg-negative",offset:[10,10]},{default:d(()=>[g(_(o(l).name.$errors[0].$message),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","error"])])]),e("div",vt,[e("div",mt,[e("div",yt,[t[19]||(t[19]=e("div",{class:"label",style:{gap:"4px"}},"Phone",-1)),a(ee,{modelValue:p.value,"onUpdate:modelValue":[t[1]||(t[1]=u=>p.value=u),oe],"dropdown-icon":"fas drv-chevron-down",square:"",dense:"",outlined:"",label:W.value,options:o(s).api_countries_sorted_phoneCodes,"option-label":"phoneCode","option-value":"phoneCode",style:{width:"70px"}},null,8,["modelValue","label","options"])]),e("div",gt,[t[21]||(t[21]=e("div",{class:"label",style:{gap:"4px"}}," ",-1)),a(j,{modelValue:o(l).phone.$model,"onUpdate:modelValue":t[2]||(t[2]=u=>o(l).phone.$model=u),square:"",dense:"",outlined:"",style:{width:"100%"},error:!o(s).valid_phone,onBlur:le},Z({_:2},[o(s).valid_phone?void 0:{name:"append",fn:d(()=>[a(A,{name:"fa drv-alert-triangle text-negative"},{default:d(()=>[a(z,{class:"bg-negative",offset:[10,10]},{default:d(()=>t[20]||(t[20]=[g(" Phone number incorrect ")])),_:1})]),_:1})]),key:"0"}]),1032,["modelValue","error"])])]),e("div",_t,[t[22]||(t[22]=e("div",{class:"label",style:{gap:"4px"}},"Email*",-1)),a(j,{modelValue:o(l).email.$model,"onUpdate:modelValue":t[3]||(t[3]=u=>o(l).email.$model=u),square:"",dense:"",outlined:"",error:o(l).email.$error&&o(l).email.$model!=""},Z({_:2},[o(l).email.$error&&o(l).email.$dirty?{name:"append",fn:d(()=>[a(A,{name:"fa drv-alert-triangle text-negative"},{default:d(()=>[a(z,{class:"bg-negative",offset:[10,10]},{default:d(()=>[g(_(o(l).email.$errors[0].$message),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","error"])])]),e("div",xt,[e("div",ft,[t[23]||(t[23]=e("div",{class:"label",style:{gap:"4px"}},"Tax ID*",-1)),a(j,{modelValue:o(l).taxNumber.$model,"onUpdate:modelValue":t[4]||(t[4]=u=>o(l).taxNumber.$model=u),square:"",dense:"",outlined:"",error:o(l).taxNumber.$error},Z({_:2},[o(l).taxNumber.$error?{name:"append",fn:d(()=>[a(A,{name:"fa drv-alert-triangle text-negative"},{default:d(()=>[a(z,{class:"bg-negative",offset:[10,10]},{default:d(()=>[g(_(o(l).taxNumber.$errors[0].$message),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","error"])]),e("div",ht,[t[24]||(t[24]=e("div",{class:"label",style:{gap:"4px"}},"City*",-1)),a(j,{modelValue:o(l).city.$model,"onUpdate:modelValue":t[5]||(t[5]=u=>o(l).city.$model=u),square:"",dense:"",outlined:"",error:o(l).city.$error},Z({_:2},[o(l).city.$error?{name:"append",fn:d(()=>[a(A,{name:"fa drv-alert-triangle text-negative"},{default:d(()=>[a(z,{class:"bg-negative",offset:[10,10]},{default:d(()=>[g(_(o(l).city.$errors[0].$message),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","error"])])]),e("div",bt,[e("div",$t,[t[25]||(t[25]=e("div",{class:"label",style:{gap:"4px"}},"Address*",-1)),a(j,{modelValue:o(l).address.$model,"onUpdate:modelValue":t[6]||(t[6]=u=>o(l).address.$model=u),square:"",dense:"",outlined:"",error:o(l).address.$error},Z({_:2},[o(l).address.$error?{name:"append",fn:d(()=>[a(A,{name:"fa drv-alert-triangle text-negative"},{default:d(()=>[a(z,{class:"bg-negative",offset:[10,10]},{default:d(()=>[g(_(o(l).address.$errors[0].$message),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","error"])]),e("div",wt,[t[26]||(t[26]=e("div",{class:"label",style:{gap:"4px"}},"Postcode*",-1)),a(j,{modelValue:o(l).postal_code.$model,"onUpdate:modelValue":t[7]||(t[7]=u=>o(l).postal_code.$model=u),square:"",dense:"",outlined:"",error:o(l).postal_code.$error},Z({_:2},[o(l).postal_code.$error?{name:"append",fn:d(()=>[a(A,{name:"fa drv-alert-triangle text-negative"},{default:d(()=>[a(z,{class:"bg-negative",offset:[10,10]},{default:d(()=>[g(_(o(l).postal_code.$errors[0].$message),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","error"])])]),e("div",Ct,[e("div",kt,[t[27]||(t[27]=e("div",{class:"label",style:{gap:"4px"}},"Country/Province*",-1)),a(j,{modelValue:o(l).county.$model,"onUpdate:modelValue":t[8]||(t[8]=u=>o(l).county.$model=u),square:"",dense:"",outlined:"",error:o(l).county.$error},Z({_:2},[o(l).county.$error?{name:"append",fn:d(()=>[a(A,{name:"fa drv-alert-triangle text-negative"},{default:d(()=>[a(z,{class:"bg-negative",offset:[10,10]},{default:d(()=>[g(_(o(l).county.$errors[0].$message),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","error"])]),e("div",Lt,[t[28]||(t[28]=e("div",{class:"label",style:{gap:"4px"}},"Country*",-1)),a(ee,{modelValue:S.value,"onUpdate:modelValue":t[9]||(t[9]=u=>S.value=u),outlined:"",dense:"",style:{width:"100%"},"emit-value":"","map-options":"","option-value":"id","option-label":"name",options:o(s).api_countries_sorted_names,"dropdown-icon":"fas drv-chevron-down"},null,8,["modelValue","options"])])])]),e("div",St,[a(V,{unelevated:"",color:"secondary","text-color":"primary",label:N.$t("buttons.cancel"),"no-caps":"",class:"",style:{width:"150px"},disable:o(s).isLoading,onClick:t[10]||(t[10]=u=>C("changeEditMode","edit",!1))},null,8,["label","disable"]),n.type=="edit"?(i(),U(V,{key:0,unelevated:"",color:"accent",label:N.$t("buttons.save"),"no-caps":"",class:"",style:{width:"150px"},loading:o(s).isLoading,disable:o(l).email.$error||o(l).name.$error||!o(s).valid_phone||o(s).isLoading,onClick:t[11]||(t[11]=u=>H())},{loading:d(()=>[a(K)]),_:1},8,["label","loading","disable"])):M("",!0),n.type=="create"?(i(),U(V,{key:1,unelevated:"",color:"accent",label:N.$t("buttons.save"),"no-caps":"",class:"",style:{width:"150px"},disable:o(l).email.$error||o(l).name.$error||!o(s).valid_phone||o(l).address.$error||o(l).postal_code.$error||o(l).city.$error||o(l).taxNumber.$error||o(s).isLoading||o(l).name.$model==""||o(l).phone.$model==""||o(l).email.$model==""||S.value=="",onClick:t[12]||(t[12]=u=>x())},{loading:d(()=>[a(K)]),_:1},8,["label","disable"])):M("",!0)])]),a(R,{modelValue:Q.value,"onUpdate:modelValue":t[13]||(t[13]=u=>Q.value=u),persistent:""},{default:d(()=>[e("div",Vt,[t[29]||(t[29]=e("div",{class:"column",style:{gap:"10px"}},[e("div",{class:"title"},"Save client"),e("div",{class:"text_boxes"},"Client saved successfully")],-1)),e("div",Nt,[P(a(V,{unelevated:"",style:{width:"calc(50% - 5px)"},"no-caps":"",label:"Ok",color:"accent",onClick:Y},null,512),[[T]])])])]),_:1},8,["modelValue"]),a(R,{modelValue:I.value,"onUpdate:modelValue":t[15]||(t[15]=u=>I.value=u),persistent:""},{default:d(()=>[e("div",Mt,[e("div",Et,[e("div",Pt,[t[31]||(t[31]=e("div",{class:"title title_custom",style:{width:"80%"}}," A new user profile has been activated ",-1)),(i(),v("svg",{class:"cursor-pointer",style:{position:"absolute",right:"0px",top:"0px"},width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t[14]||(t[14]=u=>D.value=!1)},t[30]||(t[30]=[e("path",{d:"M12.2858 11.3205L11.1073 12.499L6.39322 7.78496L1.67918 12.499L0.500666 11.3205L5.21471 6.60645L0.500666 1.8924L1.67918 0.713889L12.2858 11.3205ZM12.2858 1.8924L8.75024 5.42793L7.57173 4.24942L11.1073 0.713889L12.2858 1.8924Z",fill:"#2E2E33"},null,-1)])))]),t[32]||(t[32]=e("div",{class:"text_boxes"}," An email has been sent to the new recipient with instructions to set up a password. ",-1))]),e("div",Ut,[P(a(V,{style:{width:"calc(50% - 5px)"},"no-caps":"",label:"Ok",color:"accent",onClick:Y},null,512),[[T]])])])]),_:1},8,["modelValue"]),a(R,{modelValue:D.value,"onUpdate:modelValue":t[17]||(t[17]=u=>D.value=u),persistent:""},{default:d(()=>[e("div",qt,[e("div",Bt,[e("div",It,[t[34]||(t[34]=e("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 14.6667L16 18.6667L29.3333 5.33333M21.3333 4H10.4C8.15979 4 7.03969 4 6.18404 4.43597C5.43139 4.81947 4.81947 5.43139 4.43597 6.18404C4 7.03969 4 8.15979 4 10.4V21.6C4 23.8402 4 24.9603 4.43597 25.816C4.81947 26.5686 5.43139 27.1805 6.18404 27.564C7.03969 28 8.15979 28 10.4 28H21.6C23.8402 28 24.9603 28 25.816 27.564C26.5686 27.1805 27.1805 26.5686 27.564 25.816C28 24.9603 28 23.8402 28 21.6V16",stroke:"#7CD57B","stroke-width":"2.13333","stroke-linecap":"square","stroke-linejoin":"bevel"})],-1)),t[35]||(t[35]=e("div",{class:"title"},"Email sent",-1)),(i(),v("svg",{class:"cursor-pointer",style:{position:"absolute",right:"0px",top:"0px"},width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t[16]||(t[16]=u=>D.value=!1)},t[33]||(t[33]=[e("path",{d:"M12.2858 11.3205L11.1073 12.499L6.39322 7.78496L1.67918 12.499L0.500666 11.3205L5.21471 6.60645L0.500666 1.8924L1.67918 0.713889L12.2858 11.3205ZM12.2858 1.8924L8.75024 5.42793L7.57173 4.24942L11.1073 0.713889L12.2858 1.8924Z",fill:"#2E2E33"},null,-1)])))]),t[36]||(t[36]=e("div",{class:"text_boxes"}," An email has been sent to the recipient with instructions to reset the password. ",-1))]),e("div",Qt,[P(a(V,{style:{width:"100%"},"no-caps":"",label:"Thank you",color:"accent"},null,512),[[T]])])])]),_:1},8,["modelValue"])],64))}}),te=J(jt,[["__scopeId","data-v-5b892249"]]),At={class:"column",style:{width:"100%"}},Tt={class:"row",style:{width:"100%"}},Dt={class:"row",style:{width:"100%",height:"auto"}},Zt={class:"column list-items",style:{gap:"16px",width:"480px"}},zt={class:"col border1 row",style:{padding:"32px",position:"relative"}},Ft={key:0,class:"loader row items-center justify-center",style:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%"}},Ht=O({__name:"customerManagement",setup(F){const m=X(),h=G(),r=c(""),s=c(""),f=c(""),C=c(!0),n=c(!1),w=c("edit"),k=c(""),y=c(""),p=c(),b=c(""),L=c(),E=c(""),q=c(""),B=c(""),S=c(""),I=c("");function Q(x){w.value="edit",C.value=!0,n.value=!1,l(x),C.value=!1}se(()=>{Q(h.clients[0]),h.currentPage=1});function D(x,H,Y){n.value=H,x==="edit"&&(w.value="edit"),x==="create"&&(w.value="create",W())}function W(){r.value="",I.value="",y.value="",k.value="",L.value="",E.value="",q.value="",B.value="",S.value="",s.value="",f.value=""}function l(x){var H;console.log(x,"item selected----"),x&&(f.value=m.separateCountryCodeAndPhone(x.phone).countryCode||"",s.value=x.name,r.value=m.separateCountryCodeAndPhone(x.phone).phoneNumber||"",I.value=x.tax,q.value=x.address,B.value=x.city,S.value=x.postcode,L.value=m.getCountryCode(x.country),E.value=x.county,k.value=((H=x.email)==null?void 0:H.email)||x.email||"",p.value=x.id)}return(x,H)=>(i(),v("div",At,[e("div",Tt,[a(Ne,{"edit-mode":n.value,loading:C.value,type:w.value,user:s.value,onChangeEditMode:D,onChangeCustomer:Q},null,8,["edit-mode","loading","type","user"])]),e("div",Dt,[e("div",Zt,[a(qe,{selected:b.value,onChangeCustomer:Q},null,8,["selected"])]),e("div",zt,[n.value?M("",!0):(i(),U(it,{key:0,id:p.value,loading:C.value,name:s.value,phone:r.value,email_:k.value,code_phone:f.value,country:o(m).getCountryName(L.value),country_province:E.value,address:q.value,city:B.value,postcode:S.value,"tax-number":I.value,username:""},null,8,["id","loading","name","phone","email_","code_phone","country","country_province","address","city","postcode","tax-number"])),n.value&&w.value==="edit"?(i(),U(te,{key:1,id:p.value,name:s.value,phone:r.value,email_:k.value,type:w.value,code_phone:f.value,country:L.value,country_province:E.value,address:q.value,city:B.value,postcode:S.value,"tax-number":I.value,onLoadClient:Q,onChangeEditMode:D},null,8,["id","name","phone","email_","type","code_phone","country","country_province","address","city","postcode","tax-number"])):M("",!0),n.value&&w.value==="create"?(i(),U(te,{key:2,id:p.value,name:s.value,phone:r.value,email_:k.value,type:w.value,code_phone:f.value,country:L.value,country_province:E.value,address:q.value,city:B.value,postcode:S.value,"tax-number":I.value,onLoadClient:Q,onChangeEditMode:D},null,8,["id","name","phone","email_","type","code_phone","country","country_province","address","city","postcode","tax-number"])):M("",!0),a(ce,{name:"fade"},{default:d(()=>[C.value?(i(),v("div",Ft,[a(K,{color:"accent",size:"4em",thickness:5})])):M("",!0)]),_:1})])])]))}}),Gt=J(Ht,[["__scopeId","data-v-f0a53ee6"]]);export{Gt as default};
